{
  "endpoint_tests": [
    {
      "description": "Vanilla outposts without ARN region + access point ARN",
      "params": {
        "SDK::FIPS": false,
        "S3Control::UseArnRegion": false,
        "AccessPointName": "arn:aws:s3-outposts:us-west-2:123456789012:outpost:op-01234567890123456:accesspoint:myaccesspoint",
        "SDK::DualStack": false,
        "SDK::Region": "us-west-2",
        "RequiresAccountId": true
      },
      "expect": {
        "ok": {
          "url": "https://s3-outposts.us-west-2.amazonaws.com",
          "authSchemes": [
            "v4"
          ],
          "authParams": {
            "v4": {
              "signingName": "s3-outposts",
              "signingScope": "us-west-2"
            }
          },
          "headers": {
            "x-amz-outpost-id": "op-01234567890123456",
            "x-amz-account-id": "123456789012"
          }
        }
      },
      "tags": [
        "vanilla_outposts",
        "s3-outposts-control"
      ]
    },
    {
      "description": "Vanilla outposts with ARN region + access point ARN",
      "params": {
        "SDK::FIPS": false,
        "AccessPointName": "arn:aws:s3-outposts:us-east-1:123456789012:outpost:op-01234567890123456:accesspoint:myaccesspoint",
        "SDK::DualStack": false,
        "RequiresAccountId": true,
        "S3Control::UseArnRegion": true,
        "SDK::Region": "us-west-2"
      },
      "expect": {
        "ok": {
          "url": "https://s3-outposts.us-east-1.amazonaws.com",
          "authSchemes": [
            "v4"
          ],
          "authParams": {
            "v4": {
              "signingName": "s3-outposts",
              "signingScope": "us-east-1"
            }
          },
          "headers": {
            "x-amz-outpost-id": "op-01234567890123456",
            "x-amz-account-id": "123456789012"
          }
        }
      },
      "tags": [
        "vanilla_outposts",
        "s3-outposts-control"
      ]
    },
    {
      "description": "accept an access point ARN",
      "params": {
        "RequiresAccountId": true,
        "SDK::Region": "us-west-2",
        "SDK::FIPS": false,
        "AccessPointName": "arn:aws:s3-outposts:us-west-2:123456789012:outpost:op-01234567890123456:accesspoint:myaccesspoint",
        "SDK::DualStack": false
      },
      "expect": {
        "ok": {
          "url": "https://s3-outposts.us-west-2.amazonaws.com",
          "authSchemes": [
            "v4"
          ],
          "authParams": {
            "v4": {
              "signingName": "s3-outposts",
              "signingScope": "us-west-2"
            }
          },
          "headers": {
            "x-amz-account-id": "123456789012",
            "x-amz-outpost-id": "op-01234567890123456"
          }
        }
      },
      "tags": [
        "vanilla_outposts",
        "s3-outposts-control"
      ]
    },
    {
      "description": "vanilla outposts china",
      "params": {
        "RequiresAccountId": true,
        "AccessPointName": "arn:aws-cn:s3-outposts:cn-north-1:123456789012:outpost:op-01234567890123456:accesspoint:myaccesspoint",
        "SDK::DualStack": false,
        "SDK::Region": "cn-north-1",
        "SDK::FIPS": false
      },
      "expect": {
        "ok": {
          "url": "https://s3-outposts.cn-north-1.amazonaws.com.cn",
          "authSchemes": [
            "v4"
          ],
          "authParams": {
            "v4": {
              "signingName": "s3-outposts",
              "signingScope": "cn-north-1"
            }
          },
          "headers": {
            "x-amz-account-id": "123456789012",
            "x-amz-outpost-id": "op-01234567890123456"
          }
        }
      },
      "tags": [
        "vanilla_outposts_other_partitions",
        "s3-outposts-control"
      ]
    },
    {
      "description": "vanilla outposts iso",
      "params": {
        "SDK::Region": "us-iso-east-1",
        "SDK::DualStack": false,
        "RequiresAccountId": true,
        "SDK::FIPS": false,
        "AccessPointName": "arn:aws-iso:s3-outposts:us-iso-east-1:123456789012:outpost:op-01234567890123456:accesspoint:myaccesspoint"
      },
      "expect": {
        "ok": {
          "url": "https://s3-outposts.us-iso-east-1.c2s.ic.gov",
          "authSchemes": [
            "v4"
          ],
          "authParams": {
            "v4": {
              "signingName": "s3-outposts",
              "signingScope": "us-iso-east-1"
            }
          },
          "headers": {
            "x-amz-account-id": "123456789012",
            "x-amz-outpost-id": "op-01234567890123456"
          }
        }
      },
      "tags": [
        "vanilla_outposts_other_partitions",
        "s3-outposts-control"
      ]
    },
    {
      "description": "gov region",
      "params": {
        "SDK::FIPS": false,
        "SDK::DualStack": false,
        "AccessPointName": "arn:aws-us-gov:s3-outposts:us-gov-east-1:123456789012:outpost:op-01234567890123456:accesspoint:myaccesspoint",
        "SDK::Region": "us-gov-east-1",
        "RequiresAccountId": true
      },
      "expect": {
        "ok": {
          "url": "https://s3-outposts.us-gov-east-1.amazonaws.com",
          "authSchemes": [
            "v4"
          ],
          "authParams": {
            "v4": {
              "signingName": "s3-outposts",
              "signingScope": "us-gov-east-1"
            }
          },
          "headers": {
            "x-amz-outpost-id": "op-01234567890123456",
            "x-amz-account-id": "123456789012"
          }
        }
      },
      "tags": [
        "govcloud_and_fips",
        "s3-outposts-control"
      ]
    },
    {
      "description": "gov cloud with fips",
      "params": {
        "RequiresAccountId": true,
        "AccessPointName": "arn:aws-us-gov:s3-outposts:us-gov-west-1:123456789012:outpost:op-01234567890123456:accesspoint:myaccesspoint",
        "SDK::Region": "us-gov-west-1",
        "SDK::DualStack": false,
        "SDK::FIPS": true
      },
      "expect": {
        "ok": {
          "url": "https://s3-outposts-fips.us-gov-west-1.amazonaws.com",
          "authSchemes": [
            "v4"
          ],
          "authParams": {
            "v4": {
              "signingName": "s3-outposts",
              "signingScope": "us-gov-west-1"
            }
          },
          "headers": {
            "x-amz-account-id": "123456789012",
            "x-amz-outpost-id": "op-01234567890123456"
          }
        }
      },
      "tags": [
        "govcloud_and_fips",
        "s3-outposts-control"
      ]
    },
    {
      "description": "govcloud with fips + arn region",
      "params": {
        "AccessPointName": "arn:aws-us-gov:s3-outposts:us-gov-east-1:123456789012:outpost:op-01234567890123456:accesspoint:myaccesspoint",
        "RequiresAccountId": true,
        "SDK::DualStack": false,
        "SDK::FIPS": true,
        "SDK::Region": "us-gov-west-1",
        "S3Control::UseArnRegion": true
      },
      "expect": {
        "ok": {
          "url": "https://s3-outposts-fips.us-gov-east-1.amazonaws.com",
          "authSchemes": [
            "v4"
          ],
          "authParams": {
            "v4": {
              "signingName": "s3-outposts",
              "signingScope": "us-gov-east-1"
            }
          },
          "headers": {
            "x-amz-outpost-id": "op-01234567890123456",
            "x-amz-account-id": "123456789012"
          }
        }
      },
      "tags": [
        "govcloud_and_fips",
        "s3-outposts-control"
      ]
    },
    {
      "description": "CreateBucket + OutpostId = outposts endpoint",
      "params": {
        "SDK::Region": "us-east-2",
        "OutpostId": "123",
        "SDK::DualStack": false,
        "Operation": "CreateBucket",
        "RequiresAccountId": false,
        "SDK::FIPS": false
      },
      "expect": {
        "ok": {
          "url": "https://s3-outposts.us-east-2.amazonaws.com",
          "authSchemes": [
            "v4"
          ],
          "authParams": {
            "v4": {
              "signingName": "s3-outposts",
              "signingScope": "us-east-2"
            }
          },
          "headers": {}
        }
      },
      "tags": [
        "special_cased_operations",
        "s3-outposts-control"
      ]
    },
    {
      "description": "CreateBucket + OutpostId with fips = outposts endpoint",
      "params": {
        "SDK::Region": "us-east-2",
        "RequiresAccountId": false,
        "OutpostId": "123",
        "SDK::FIPS": true,
        "Operation": "CreateBucket",
        "SDK::DualStack": false
      },
      "expect": {
        "ok": {
          "url": "https://s3-outposts-fips.us-east-2.amazonaws.com",
          "authSchemes": [
            "v4"
          ],
          "authParams": {
            "v4": {
              "signingName": "s3-outposts",
              "signingScope": "us-east-2"
            }
          },
          "headers": {}
        }
      },
      "tags": [
        "special_cased_operations",
        "s3-outposts-control"
      ]
    },
    {
      "description": "CreateBucket without OutpostId = regular endpoint",
      "params": {
        "SDK::Region": "us-east-2",
        "RequiresAccountId": false,
        "SDK::DualStack": false,
        "SDK::FIPS": false,
        "Operation": "CreateBucket"
      },
      "expect": {
        "ok": {
          "url": "https://s3-control.us-east-2.amazonaws.com",
          "authSchemes": [
            "v4"
          ],
          "authParams": {
            "v4": {
              "signingName": "s3",
              "signingScope": "us-east-2"
            }
          },
          "headers": {}
        }
      },
      "tags": [
        "special_cased_operations",
        "s3-outposts-control"
      ]
    },
    {
      "description": "ListRegionalBuckets + OutpostId = outposts endpoint",
      "params": {
        "OutpostId": "123",
        "Operation": "ListRegionalBuckets",
        "SDK::Region": "us-east-2",
        "RequiresAccountId": false,
        "SDK::FIPS": false,
        "SDK::DualStack": false
      },
      "expect": {
        "ok": {
          "url": "https://s3-outposts.us-east-2.amazonaws.com",
          "authSchemes": [
            "v4"
          ],
          "authParams": {
            "v4": {
              "signingName": "s3-outposts",
              "signingScope": "us-east-2"
            }
          },
          "headers": {}
        }
      },
      "tags": [
        "special_cased_operations",
        "s3-outposts-control"
      ]
    },
    {
      "description": "ListRegionalBuckets without OutpostId = regular endpoint",
      "params": {
        "SDK::FIPS": false,
        "Operation": "ListRegionalBuckets",
        "SDK::Region": "us-east-2",
        "RequiresAccountId": false,
        "SDK::DualStack": false
      },
      "expect": {
        "ok": {
          "url": "https://s3-control.us-east-2.amazonaws.com",
          "authSchemes": [
            "v4"
          ],
          "authParams": {
            "v4": {
              "signingName": "s3",
              "signingScope": "us-east-2"
            }
          },
          "headers": {}
        }
      },
      "tags": [
        "special_cased_operations",
        "s3-outposts-control"
      ]
    },
    {
      "description": "ListRegionalBucket + OutpostId with fips = outposts endpoint",
      "params": {
        "SDK::FIPS": true,
        "SDK::DualStack": false,
        "RequiresAccountId": false,
        "OutpostId": "123",
        "Operation": "CreateBucket",
        "SDK::Region": "us-east-2"
      },
      "expect": {
        "ok": {
          "url": "https://s3-outposts-fips.us-east-2.amazonaws.com",
          "authSchemes": [
            "v4"
          ],
          "authParams": {
            "v4": {
              "signingName": "s3-outposts",
              "signingScope": "us-east-2"
            }
          },
          "headers": {}
        }
      },
      "tags": [
        "special_cased_operations",
        "s3-outposts-control"
      ]
    },
    {
      "description": "outpost access points do not support dualstack",
      "params": {
        "RequiresAccountId": true,
        "SDK::DualStack": true,
        "AccessPointName": "arn:aws:s3-outposts:us-west-2:123456789012:outpost:op-01234567890123456:accesspoint:myaccesspoint",
        "SDK::FIPS": false
      },
      "expect": {
        "error": "Outpost Access Points do not support dual-stack."
      },
      "tags": [
        "dualstack_accelerate",
        "s3-outposts-control"
      ]
    },
    {
      "description": "outpost access points do not support accelerate",
      "params": {
        "S3Control::Accelerate": true,
        "SDK::DualStack": false,
        "AccessPointName": "arn:aws:s3-outposts:us-west-2:123456789012:outpost:op-01234567890123456:accesspoint:myaccesspoint",
        "RequiresAccountId": true,
        "SDK::FIPS": false
      },
      "expect": {
        "error": "Outpost Access Points do not support dual-stack."
      },
      "tags": [
        "dualstack_accelerate",
        "s3-outposts-control"
      ]
    },
    {
      "description": "invalid ARN: must be include outpost ID",
      "params": {
        "AccessPointName": "arn:aws:s3-outposts:us-west-2:123456789012:outpost",
        "SDK::Region": "us-west-2",
        "RequiresAccountId": true,
        "SDK::FIPS": false,
        "SDK::DualStack": false
      },
      "expect": {
        "error": "Invalid ARN: Outpost resource format is incorrect"
      },
      "tags": [
        "invalid_arn_formats",
        "s3-outposts-control"
      ]
    },
    {
      "description": "invalid ARN: must specify access point",
      "params": {
        "SDK::Region": "us-west-2",
        "RequiresAccountId": true,
        "SDK::FIPS": false,
        "AccessPointName": "arn:aws:s3-outposts:us-west-2:123456789012:outpost:op-01234567890123456",
        "SDK::DualStack": false
      },
      "expect": {
        "error": "Invalid ARN: Outpost resource format is incorrect"
      },
      "tags": [
        "invalid_arn_formats",
        "s3-outposts-control"
      ]
    },
    {
      "description": "invalid ARN",
      "params": {
        "SDK::DualStack": false,
        "SDK::Region": "us-west-2",
        "AccessPointName": "arn:aws:s3-outposts:us-west-2:123456789012:outpost:myaccesspoint",
        "RequiresAccountId": true,
        "SDK::FIPS": false
      },
      "expect": {
        "error": "Invalid ARN: Outpost resource format is incorrect"
      },
      "tags": [
        "invalid_arn_formats",
        "s3-outposts-control"
      ]
    },
    {
      "description": "when set, AccountId drives AP construction",
      "params": {
        "RequiresAccountId": true,
        "SDK::Region": "us-west-2",
        "SDK::FIPS": false,
        "AccessPointName": "myaccesspoint",
        "AccountId": "myid-1234",
        "SDK::DualStack": false
      },
      "expect": {
        "ok": {
          "url": "https://myid-1234.s3-control.us-west-2.amazonaws.com",
          "authSchemes": [
            "v4"
          ],
          "authParams": {
            "v4": {
              "signingName": "s3",
              "signingScope": "us-west-2"
            }
          },
          "headers": {
            "x-amz-account-id": "myid-1234"
          }
        }
      },
      "tags": [
        "account_id_set",
        "s3-outposts-control"
      ]
    },
    {
      "description": "Account ID set inline & in ARN but they both match",
      "params": {
        "SDK::FIPS": false,
        "SDK::DualStack": false,
        "RequiresAccountId": true,
        "AccountId": "123456789012",
        "AccessPointName": "arn:aws:s3-outposts:us-west-2:123456789012:outpost:op-01234567890123456:accesspoint:myaccesspoint",
        "SDK::Region": "us-west-2",
        "S3Control::UseArnRegion": false
      },
      "expect": {
        "ok": {
          "url": "https://s3-outposts.us-west-2.amazonaws.com",
          "authSchemes": [
            "v4"
          ],
          "authParams": {
            "v4": {
              "signingName": "s3-outposts",
              "signingScope": "us-west-2"
            }
          },
          "headers": {
            "x-amz-outpost-id": "op-01234567890123456",
            "x-amz-account-id": "123456789012"
          }
        }
      },
      "tags": [
        "multiple_account_id_sources",
        "s3-outposts-control"
      ]
    },
    {
      "description": "get access point prefixed with account id",
      "params": {
        "Operation": "GetAccessPoint",
        "SDK::FIPS": false,
        "PrivateLink": "vpce-1a2b3c4d-5e6f",
        "SDK::Region": "us-west-2",
        "SDK::DualStack": false,
        "AccessPointName": "apname",
        "RequiresAccountId": true,
        "AccountId": "123456789012"
      },
      "expect": {
        "ok": {
          "url": "https://123456789012.control.vpce-1a2b3c4d-5e6f.s3.us-west-2.vpce.amazonaws.com",
          "authSchemes": [
            "v4"
          ],
          "authParams": {
            "v4": {
              "signingName": "s3",
              "signingScope": "us-west-2"
            }
          },
          "headers": {
            "x-amz-account-id": "123456789012"
          }
        }
      },
      "tags": [
        "private_link_tests",
        "s3-outposts-control"
      ]
    },
    {
      "description": "dualstack cannot be used with private link",
      "params": {
        "PrivateLink": "vpce-1a2b3c4d-5e6f",
        "SDK::FIPS": false,
        "AccountId": "123456789012",
        "Operation": "GetAccessPoint",
        "SDK::DualStack": true,
        "AccessPointName": "apname",
        "RequiresAccountId": true,
        "SDK::Region": "us-west-2"
      },
      "expect": {
        "error": "Dual-stack cannot be used with custom endpoints"
      },
      "tags": [
        "private_link_errors",
        "s3-outposts-control"
      ]
    },
    {
      "description": "dualstack cannot be used with outposts",
      "params": {
        "AccessPointName": "arn:aws:s3-outposts:us-west-2:123456789012:outpost:op-01234567890123456:accesspoint:myaccesspoint",
        "SDK::Region": "us-west-2",
        "SDK::DualStack": true,
        "SDK::Endpoint": "beta.example.com",
        "Operation": "GetAccessPoint",
        "RequiresAccountId": true,
        "SDK::FIPS": false
      },
      "expect": {
        "error": "Dual-stack cannot be used with outposts"
      },
      "tags": [
        "private_link_errors",
        "s3-outposts-control"
      ]
    },
    {
      "description": "Dual-stack cannot be used with outposts",
      "params": {
        "SDK::DualStack": true,
        "SDK::Region": "us-west-2",
        "RequiresAccountId": false,
        "BucketName": "bucketname",
        "OutpostId": "op-123",
        "SDK::Endpoint": "beta.example.com",
        "SDK::FIPS": false,
        "Operation": "CreateBucket"
      },
      "expect": {
        "error": "dual-stack cannot be used with outposts"
      },
      "tags": [
        "private_link_errors",
        "s3-outposts-control"
      ]
    },
    {
      "description": "vanilla bucket arn requires account id",
      "params": {
        "SDK::FIPS": false,
        "SDK::Region": "us-west-2",
        "SDK::DualStack": false,
        "BucketName": "arn:aws:s3-outposts:us-west-2:123456789012:outpost:op-01234567890123456:bucket:mybucket",
        "RequiresAccountId": true
      },
      "expect": {
        "ok": {
          "url": "https://s3-outposts.us-west-2.amazonaws.com",
          "authSchemes": [
            "v4"
          ],
          "authParams": {
            "v4": {
              "signingName": "s3-outposts",
              "signingScope": "us-west-2"
            }
          },
          "headers": {
            "x-amz-account-id": "123456789012",
            "x-amz-outpost-id": "op-01234567890123456"
          }
        }
      },
      "tags": [
        "bucket_arn_tests",
        "s3-outposts-control"
      ]
    },
    {
      "description": "bucket arn with UseArnRegion = true (arn region supercedes client configured region)",
      "params": {
        "SDK::Region": "us-west-2",
        "BucketName": "arn:aws:s3-outposts:us-east-1:123456789012:outpost:op-01234567890123456:bucket:mybucket",
        "RequiresAccountId": true,
        "SDK::FIPS": false,
        "SDK::DualStack": false,
        "S3Control::UseArnRegion": true
      },
      "expect": {
        "ok": {
          "url": "https://s3-outposts.us-east-1.amazonaws.com",
          "authSchemes": [
            "v4"
          ],
          "authParams": {
            "v4": {
              "signingName": "s3-outposts",
              "signingScope": "us-east-1"
            }
          },
          "headers": {
            "x-amz-account-id": "123456789012",
            "x-amz-outpost-id": "op-01234567890123456"
          }
        }
      },
      "tags": [
        "bucket_arn_tests",
        "s3-outposts-control"
      ]
    },
    {
      "description": "bucket ARN in gov partition (non-fips)",
      "params": {
        "S3Control::UseArnRegion": true,
        "SDK::FIPS": false,
        "SDK::DualStack": false,
        "BucketName": "arn:aws-us-gov:s3-outposts:us-gov-east-1:123456789012:outpost:op-01234567890123456:bucket:mybucket",
        "RequiresAccountId": true,
        "SDK::Region": "us-gov-east-1"
      },
      "expect": {
        "ok": {
          "url": "https://s3-outposts.us-gov-east-1.amazonaws.com",
          "authSchemes": [
            "v4"
          ],
          "authParams": {
            "v4": {
              "signingName": "s3-outposts",
              "signingScope": "us-gov-east-1"
            }
          },
          "headers": {
            "x-amz-account-id": "123456789012",
            "x-amz-outpost-id": "op-01234567890123456"
          }
        }
      },
      "tags": [
        "bucket_arn_tests",
        "s3-outposts-control"
      ]
    },
    {
      "description": "bucket ARN in gov partition with FIPS",
      "params": {
        "SDK::FIPS": true,
        "SDK::DualStack": false,
        "BucketName": "arn:aws-us-gov:s3-outposts:us-gov-west-1:123456789012:outpost:op-01234567890123456:bucket:mybucket",
        "RequiresAccountId": true,
        "SDK::Region": "us-gov-west-1"
      },
      "expect": {
        "ok": {
          "url": "https://s3-outposts-fips.us-gov-west-1.amazonaws.com",
          "authSchemes": [
            "v4"
          ],
          "authParams": {
            "v4": {
              "signingName": "s3-outposts",
              "signingScope": "us-gov-west-1"
            }
          },
          "headers": {
            "x-amz-account-id": "123456789012",
            "x-amz-outpost-id": "op-01234567890123456"
          }
        }
      },
      "tags": [
        "bucket_arn_tests",
        "s3-outposts-control"
      ]
    },
    {
      "description": "Outposts do not support dualstack",
      "params": {
        "RequiresAccountId": true,
        "BucketName": "arn:aws:s3-outposts:us-west-2:123456789012:outpost:op-01234567890123456:bucket:mybucket",
        "SDK::Region": "us-west-2",
        "SDK::DualStack": true,
        "SDK::FIPS": false
      },
      "expect": {
        "error": "Invalid configuration: Outpost buckets do not support dual-stack"
      },
      "tags": [
        "bucket_arn_tests",
        "s3-outposts-control"
      ]
    },
    {
      "description": "Invalid ARN: missing outpost id and bucket",
      "params": {
        "RequiresAccountId": true,
        "BucketName": "arn:aws:s3-outposts:us-west-2:123456789012:outpost",
        "SDK::FIPS": false,
        "SDK::DualStack": false
      },
      "expect": {
        "error": "Invalid ARN: Outpost resource format is incorrect"
      },
      "tags": [
        "invalid_bucket_arn",
        "s3-outposts-control"
      ]
    },
    {
      "description": "Invalid ARN: missing bucket",
      "params": {
        "SDK::DualStack": false,
        "BucketName": "arn:aws:s3-outposts:us-west-2:123456789012:outpost:op-01234567890123456",
        "SDK::FIPS": false,
        "RequiresAccountId": true
      },
      "expect": {
        "error": "Invalid ARN: Outpost resource format is incorrect"
      },
      "tags": [
        "invalid_bucket_arn",
        "s3-outposts-control"
      ]
    },
    {
      "description": "Invalid ARN: missing outpost and bucket ids",
      "params": {
        "SDK::FIPS": false,
        "RequiresAccountId": true,
        "BucketName": "arn:aws:s3-outposts:us-west-2:123456789012:outpost:bucket",
        "SDK::DualStack": false
      },
      "expect": {
        "error": "Invalid ARN: Outpost resource format is incorrect"
      },
      "tags": [
        "invalid_bucket_arn",
        "s3-outposts-control"
      ]
    },
    {
      "description": "Invalid ARN: missing bucket id",
      "params": {
        "BucketName": "arn:aws:s3-outposts:us-west-2:123456789012:outpost:op-01234567890123456:bucket",
        "SDK::FIPS": false,
        "RequiresAccountId": true,
        "SDK::DualStack": false
      },
      "expect": {
        "error": "Invalid ARN: Outpost resource format is incorrect"
      },
      "tags": [
        "invalid_bucket_arn",
        "s3-outposts-control"
      ]
    },
    {
      "description": "account id inserted into hostname",
      "params": {
        "SDK::Region": "us-west-2",
        "SDK::FIPS": false,
        "SDK::DualStack": false,
        "RequiresAccountId": true,
        "AccountId": "1234567890"
      },
      "expect": {
        "ok": {
          "url": "https://1234567890.s3-control.us-west-2.amazonaws.com",
          "authSchemes": [
            "v4"
          ],
          "authParams": {
            "v4": {
              "signingName": "s3",
              "signingScope": "us-west-2"
            }
          },
          "headers": {
            "x-amz-account-id": "1234567890"
          }
        }
      },
      "tags": [
        "host_prefix",
        "s3-outposts-control"
      ]
    },
    {
      "description": "account id prefix with dualstack",
      "params": {
        "AccountId": "1234567890",
        "RequiresAccountId": true,
        "SDK::FIPS": false,
        "SDK::Region": "us-east-1",
        "SDK::DualStack": true
      },
      "expect": {
        "ok": {
          "url": "https://1234567890.s3-control.dualstack.us-east-1.amazonaws.com",
          "authSchemes": [
            "v4"
          ],
          "authParams": {
            "v4": {
              "signingName": "s3",
              "signingScope": "us-east-1"
            }
          },
          "headers": {
            "x-amz-account-id": "1234567890"
          }
        }
      },
      "tags": [
        "host_prefix",
        "s3-outposts-control"
      ]
    },
    {
      "description": "account id prefix with fips",
      "params": {
        "SDK::FIPS": true,
        "SDK::DualStack": false,
        "AccountId": "1234567890",
        "SDK::Region": "us-east-1",
        "RequiresAccountId": true
      },
      "expect": {
        "ok": {
          "url": "https://1234567890.s3-control-fips.us-east-1.amazonaws.com",
          "authSchemes": [
            "v4"
          ],
          "authParams": {
            "v4": {
              "signingName": "s3",
              "signingScope": "us-east-1"
            }
          },
          "headers": {
            "x-amz-account-id": "1234567890"
          }
        }
      },
      "tags": [
        "host_prefix",
        "s3-outposts-control"
      ]
    },
    {
      "description": "custom account id prefix with fips",
      "params": {
        "RequiresAccountId": true,
        "SDK::Region": "us-east-1",
        "SDK::DualStack": false,
        "AccountId": "1234567890-aBC",
        "SDK::FIPS": true
      },
      "expect": {
        "ok": {
          "url": "https://1234567890-aBC.s3-control-fips.us-east-1.amazonaws.com",
          "authSchemes": [
            "v4"
          ],
          "authParams": {
            "v4": {
              "signingName": "s3",
              "signingScope": "us-east-1"
            }
          },
          "headers": {
            "x-amz-account-id": "1234567890-aBC"
          }
        }
      },
      "tags": [
        "host_prefix",
        "s3-outposts-control"
      ]
    }
  ]
}
